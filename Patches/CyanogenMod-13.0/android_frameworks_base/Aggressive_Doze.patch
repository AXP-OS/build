From 23763f4eb6fba1a9031bc5d46fdd81bfc1a35c0c Mon Sep 17 00:00:00 2001
From: Tad <tad@spotco.us>
Date: Sat, 23 Apr 2016 18:46:05 -0400
Subject: [PATCH] Aggressive Doze

Change-Id: If7b7776ca634d9bb63cd77458a5d1c93fe38bc8f
---
 .../com/android/server/DeviceIdleController.java   | 47 ++++++++--------------
 1 file changed, 16 insertions(+), 31 deletions(-)

diff --git a/services/core/java/com/android/server/DeviceIdleController.java b/services/core/java/com/android/server/DeviceIdleController.java
index 71650c3..44cc490 100644
--- a/services/core/java/com/android/server/DeviceIdleController.java
+++ b/services/core/java/com/android/server/DeviceIdleController.java
@@ -553,37 +553,22 @@ public class DeviceIdleController extends SystemService
                     Slog.e(TAG, "Bad device idle settings", e);
                 }
 
-                INACTIVE_TIMEOUT = mParser.getLong(KEY_INACTIVE_TIMEOUT,
-                        !COMPRESS_TIME ? 30 * 60 * 1000L : 3 * 60 * 1000L);
-                SENSING_TIMEOUT = mParser.getLong(KEY_SENSING_TIMEOUT,
-                        !DEBUG ? 4 * 60 * 1000L : 60 * 1000L);
-                LOCATING_TIMEOUT = mParser.getLong(KEY_LOCATING_TIMEOUT,
-                        !DEBUG ? 30 * 1000L : 15 * 1000L);
-                LOCATION_ACCURACY = mParser.getFloat(KEY_LOCATION_ACCURACY, 20);
-                MOTION_INACTIVE_TIMEOUT = mParser.getLong(KEY_MOTION_INACTIVE_TIMEOUT,
-                        !COMPRESS_TIME ? 10 * 60 * 1000L : 60 * 1000L);
-                IDLE_AFTER_INACTIVE_TIMEOUT = mParser.getLong(KEY_IDLE_AFTER_INACTIVE_TIMEOUT,
-                        !COMPRESS_TIME ? 30 * 60 * 1000L : 3 * 60 * 1000L);
-                IDLE_PENDING_TIMEOUT = mParser.getLong(KEY_IDLE_PENDING_TIMEOUT,
-                        !COMPRESS_TIME ? 5 * 60 * 1000L : 30 * 1000L);
-                MAX_IDLE_PENDING_TIMEOUT = mParser.getLong(KEY_MAX_IDLE_PENDING_TIMEOUT,
-                        !COMPRESS_TIME ? 10 * 60 * 1000L : 60 * 1000L);
-                IDLE_PENDING_FACTOR = mParser.getFloat(KEY_IDLE_PENDING_FACTOR,
-                        2f);
-                IDLE_TIMEOUT = mParser.getLong(KEY_IDLE_TIMEOUT,
-                        !COMPRESS_TIME ? 60 * 60 * 1000L : 6 * 60 * 1000L);
-                MAX_IDLE_TIMEOUT = mParser.getLong(KEY_MAX_IDLE_TIMEOUT,
-                        !COMPRESS_TIME ? 6 * 60 * 60 * 1000L : 30 * 60 * 1000L);
-                IDLE_FACTOR = mParser.getFloat(KEY_IDLE_FACTOR,
-                        2f);
-                MIN_TIME_TO_ALARM = mParser.getLong(KEY_MIN_TIME_TO_ALARM,
-                        !COMPRESS_TIME ? 60 * 60 * 1000L : 6 * 60 * 1000L);
-                MAX_TEMP_APP_WHITELIST_DURATION = mParser.getLong(
-                        KEY_MAX_TEMP_APP_WHITELIST_DURATION, 5 * 60 * 1000L);
-                MMS_TEMP_APP_WHITELIST_DURATION = mParser.getLong(
-                        KEY_MMS_TEMP_APP_WHITELIST_DURATION, 60 * 1000L);
-                SMS_TEMP_APP_WHITELIST_DURATION = mParser.getLong(
-                        KEY_SMS_TEMP_APP_WHITELIST_DURATION, 20 * 1000L);
+                INACTIVE_TIMEOUT = 300000L;//5m
+                SENSING_TIMEOUT = 15000L;//15s
+                LOCATING_TIMEOUT = 15000L;//15s
+                LOCATION_ACCURACY = 30f;
+                MOTION_INACTIVE_TIMEOUT = 15000L;//15s
+                IDLE_AFTER_INACTIVE_TIMEOUT = 15000L;//15s
+                IDLE_PENDING_TIMEOUT = 15000L;//15s
+                MAX_IDLE_PENDING_TIMEOUT = 60000L;//60s
+                IDLE_PENDING_FACTOR = 2f;
+                IDLE_TIMEOUT = 600000L;//10m
+                MAX_IDLE_TIMEOUT = 21600000L;//6h
+                IDLE_FACTOR = 2f;
+                MIN_TIME_TO_ALARM = 600000L;//10m
+                MAX_TEMP_APP_WHITELIST_DURATION = 120000L;//2m
+                MMS_TEMP_APP_WHITELIST_DURATION = 60000L;//1m
+                SMS_TEMP_APP_WHITELIST_DURATION = 30000L;//30s
             }
         }
 
-- 
2.8.0

